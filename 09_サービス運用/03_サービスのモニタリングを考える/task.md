# サービスのモニタリングを考える
[課題内容](https://airtable.com/appPxhCPFYGqqN9YU/tblVlFr2q4lIqDKYc/viwX8r6DpCRp80swL/recpoPv1VBd0OLJ0T?blocks=hide)

## 課題1
- Q.一定期間で一定数以上、フロントエンドのWEBアプリケーションがクラッシュしていたら、開発者にSlackで知らせるツール
- A.New Relic Monitoring Platformなどのサービスを利用することで、一定期間で一定数以上のWEBアプリケーションのクラッシュを検知し、開発者にSlackで知らせるツールを構築することができます。New Relic Monitoring Platformは、WEBアプリケーションのインフラやアプリケーションのパフォーマンスをモニタリングするサービスで、クラッシュを検知すると開発者にSlackで通知する機能を提供しています。また、New Relic PlatformにはAPIが用意されており、自分で検知するパラメータを設定することも可能。

- Q.フロントエンドで何らかのエラーが発生したら、直前までユーザが実施した作業手順、ブラウザの実行環境等の情報を付与して開発者に通知するツール
- A.指定した条件でユーザの情報を付与して開発者に通知するツールとして、Error Reportingツールを利用することができます。Error Reportingツールでは、エラーが発生した際に、ユーザが実施した作業手順やブラウザの実行環境等の情報を付与して開発者に通知することができます。Error Reportingツールには、`Sentry`や`Bugsnag`などがあります。`Sentry`では、エラーが発生したらSlackやメールなどで開発者に通知することができます。また、`Bugsnag`では、ブラウザの実行環境やユーザの情報、ユーザが実施した作業手順を付与したエラーを開発者に通知することができます。

- Q.APIからのレスポンスタイムが5秒以上かかっているエンドポイントを可視化する。もし5秒以上かかっているレスポンスが全体の1割を超えたら開発者にSlackで知らせるツールを教えてください. 
- A.`Prometheus`などを利用することができます。`Prometheus`を利用することで、APIのレスポンスタイムを可視化し、5秒以上かかっているレスポンスが全体の1割を超えたら開発者にSlackで知らせることができます。また、Prometheusには、APIのレスポンスタイムを計測する機能が用意されており、レスポンスタイムの計測結果を元に開発者にSlackで通知することが可能です。

- Q.データベースのスロークエリを可視化して、レスポンスに5秒以上かかるクエリがある場合は開発者にSlackで知らせるツール
- A.Percona Monitoring and Management（PMM）を利用することができます。PMMは、MySQLやMongoDBなどのデータベースを監視するツールで、スロークエリを可視化し、レスポンスに5秒以上かかるクエリがある場合に開発者にSlackで通知することができます。

- Q.WEBアプリケーションを安定稼働させるため、上記の他に監視しておいた方が良いメトリクスは無いでしょうか？挙げられるだけ挙げてみてください！
- A.
  - CPU使用率 
  - メモリ使用量 
  - ディスク使用量 
  - ネットワーク使用量 
  - 負荷テストの結果 
  - データベースのクエリ数 
  - HTTPリクエスト数 
  - HTTPレスポンスタイム 
  - ページ閲覧数 
  - ユーザー数 
  - アクセスログ

