# データベース設計のアンチパターンを学ぶ3

## 課題1
- カラムの値ごとに、異なるテーブルを結合するSQLを書くことはできない。
- **外部キー**を付与できないため、**参照整合性制約**を定義できない  (今回のパターンではmangaとnovelのテーブルを参照先としており、外部キー宣言は一つのテーブルのみを指定しなければならないため)

## 課題2
### 交差テーブルの作成
- 長所
  - この交差テーブルではCommentsテーブルの外部キーに加え、各親テーブル(Bugs、FeatureRequests)にも外部キーが定義する。よってデータの整合性を取ることができる。
 
- 短所 
  - 交差テーブルは本来、"多対多"の関連付けに使われるものである。  
  一つのコメントが両方の交差テーブルから呼び出される場合には対処できていない。
  先程述べた、コメントは一つのバグ又は機能要求用、ということに反してしまっている。
  (例として、両交差テーブルのcomment_id の列に1 が入ったデータが存在する状態)
  この状態を防ぐためにはアプリケーションコード側で対処しなければならない。

### 共通の親テーブルの作成
- 長所 
  - Booksのような基底テーブルを使うことにより、外部キーによるデータ整合性制約に依存できる

- 短所 
  - この方法でも、一つのコメントが両方のテーブルから呼び出される場合には対処できていない

### 別々に分ける

### 要約
**テーブル間の関連には、参照元テーブルと参照先テーブルが常にそれぞれ一つしかないことを意識することが大切である**
## 課題3
